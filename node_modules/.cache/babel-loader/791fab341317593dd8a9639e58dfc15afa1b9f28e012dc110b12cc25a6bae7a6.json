{"ast":null,"code":"import _regeneratorRuntime from\"F:/dev/alex/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/dev/alex/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/dev/alex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Expenses(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Etype=_useState2[0],setEtype=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Eprice=_useState4[0],setEprice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selectData=_useState8[0],setSelectData=_useState8[1];useEffect(function(){var processing=true;axiosFetchData(processing);return function(){processing=false;};},[]);var axiosFetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(processing){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4000/expenses\").then(function(res){if(processing){setSelectData(res.data);}}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}},_callee);}));return function axiosFetchData(_x){return _ref.apply(this,arguments);};}();var axiosPostData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var postData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:postData={Etype:Etype,Eprice:Eprice};_context2.next=3;return axios.post(\"http://localhost:4000/expenses\",postData).then(function(res){return setError(/*#__PURE__*/_jsx(\"p\",{className:\"success\",children:res.data}));});case 3:case\"end\":return _context2.stop();}},_callee2);}));return function axiosPostData(){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(event){event.preventDefault();if(!Eprice&&!Etype){setError(/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Both fields are empty\"}));}else if(!Etype){setError(/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Etype is empty\"}));console.log(\"error\");}else if(!Eprice){setError(/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Eprice is empty\"}));}else{// setError(<p>message sent</p>)\naxiosPostData();}// setError('')\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Test\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Expense Type: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Etype\",name:\"Etype\",placeholder:\"Expense Type\",value:Etype,onChange:function onChange(event){return setEtype(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Expense Price: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Eprice\",name:\"Eprice\",placeholder:\"Expense Price\",value:Eprice,onChange:function onChange(event){return setEprice(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:\"Submit\"}),error]})]});}","map":{"version":3,"names":["useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Expenses","_useState","_useState2","_slicedToArray","Etype","setEtype","_useState3","_useState4","Eprice","setEprice","_useState5","_useState6","error","setError","_useState7","_useState8","selectData","setSelectData","processing","axiosFetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","then","res","data","catch","err","console","log","stop","_x","apply","arguments","axiosPostData","_ref2","_callee2","postData","_callee2$","_context2","post","className","children","handleSubmit","event","preventDefault","type","id","name","placeholder","value","onChange","target","onClick"],"sources":["F:/dev/alex/src/database.js"],"sourcesContent":["import {useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Expenses(){\r\n\r\n\r\n    const [Etype, setEtype] = useState(\"\");\r\n    const [Eprice, setEprice] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [selectData, setSelectData] = useState(\"\");\r\n\r\n\r\n\r\n    useEffect( ()=> {\r\n        let processing = true;\r\n        axiosFetchData(processing);\r\n        return () => {\r\n            processing = false;\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n    }, [])\r\n\r\n\r\n    const axiosFetchData = async(processing) => {\r\n        \r\n\r\n        await axios.get(\"http://localhost:4000/expenses\")\r\n        .then(res => {\r\n\r\n            if(processing){\r\n                setSelectData(res.data)\r\n\r\n            }\r\n\r\n\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n    }\r\n    \r\n\r\n    const axiosPostData = async() => {\r\n        const postData = {\r\n            Etype: Etype,\r\n            Eprice: Eprice\r\n\r\n        }\r\n        await axios.post(\"http://localhost:4000/expenses\", postData)\r\n        .then(res => setError(<p className=\"success\">{res.data}</p>))\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        if(!Eprice && ! Etype){\r\n\r\n            setError(<p className=\"required\">Both fields are empty</p>)\r\n\r\n        }\r\n\r\n        else if(!Etype)\r\n        {\r\n            setError(<p className=\"required\">Etype is empty</p>)\r\n            console.log(\"error\")\r\n\r\n\r\n        }\r\n        else if (!Eprice){\r\n\r\n            setError(<p className=\"required\">Eprice is empty</p>)\r\n            \r\n        }\r\n        else{\r\n           // setError(<p>message sent</p>)\r\n\r\n            \r\n            axiosPostData()\r\n\r\n        }\r\n       // setError('')\r\n        \r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            <h1>Test</h1>\r\n            <form>\r\n                <label>Expense Type: </label>\r\n                <input type=\"text\" id=\"Etype\" name=\"Etype\" placeholder=\"Expense Type\" value={Etype} onChange={ (event) => setEtype(event.target.value)}/>\r\n                <br/>\r\n                <br/>\r\n                <label>Expense Price: </label>\r\n                <input type=\"text\" id=\"Eprice\" name=\"Eprice\" placeholder=\"Expense Price\" value={Eprice} onChange={ (event) => setEprice(event.target.value)}/>\r\n                <br/>\r\n                <br/>\r\n                <button type=\"submit\" onClick={handleSubmit}>Submit</button>\r\n                \r\n                {error}\r\n\r\n\r\n            </form>\r\n        \r\n        \r\n        \r\n        \r\n        </>\r\n\r\n\r\n\r\n\r\n    )\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}