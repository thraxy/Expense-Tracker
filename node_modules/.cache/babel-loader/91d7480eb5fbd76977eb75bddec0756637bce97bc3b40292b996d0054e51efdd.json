{"ast":null,"code":"import _regeneratorRuntime from\"F:/dev/alex/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"F:/dev/alex/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/dev/alex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./FED.css\";import{useState,useEffect,useReducer}from\"react\";import axios from\"axios\";import\"./ViewExpenses.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FindExpensesData(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),FED=_useState2[0],setFED=_useState2[1];console.log(FED);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selectData=_useState4[0],setSelectData=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),foundData=_useState6[0],setFoundData=_useState6[1];useEffect(function(){var processing=true;axiosFetchData(processing);return function(){processing=false;};},[]);var axiosFetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(processing){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4000/expenses\").then(function(res){if(processing){setSelectData(res.data);}}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}},_callee);}));return function axiosFetchData(_x){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(event){event.preventDefault();setFoundData(/*#__PURE__*/_jsx(\"div\",{className:\"scrollbox\",children:Seedata()}));};var deleteExpense=function deleteExpense(id,name){if(window.confirm(\"Are you sure you want to delete \".concat(name,\"?\"))){fetch(\"http://localhost:4000/deleteExpense\",{method:\"POST\",crossDomain:true,headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"},body:JSON.stringify({expenseid:id})}).then(function(res){return res.json();}).then(function(data){alert(data.data);});alert(\"Deleted Expense\");window.location.reload(false);}else{alert(\"Did Not Delete Expense\");}};function Seedata(){var flag=0;for(var i=0;i<selectData.length;i++){var _selectData$i;if(((_selectData$i=selectData[i])===null||_selectData$i===void 0?void 0:_selectData$i.Etype)===FED){flag=1;}}if(flag===0){return/*#__PURE__*/_jsx(\"p\",{children:\"No Data Found\"});}// console.log(selectData[FED].Etype)\nelse{return/*#__PURE__*/_jsx(\"div\",{children:Object.keys(selectData).filter(function(key){return selectData[key].Etype===FED;}).map(function(key,i){return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Expense Type: \",selectData[key].Etype]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Expense Price: $\",selectData[key].Eprice]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteExpense(selectData[key]._id,selectData[key].Etype);},children:\"Delete\"})]},key);})});}/*\r\n        return(<div>\r\n           {selectData.filter(expense => expense.Etype === FED).map((filteredexpenses, idx) =>  (\r\n\r\n            <p filteredexpenses={idx}>\r\n                {selectData[filteredexpenses]?.Etype} : {selectData[filteredexpenses]?.Eprice}\r\n            </p>\r\n\r\n\r\n           ))}\r\n    \r\n    \r\n        </div>\r\n        )\r\n\r\n*/}/*\r\n    return(<div>\r\n        {Object.keys(selectData).map((key, i) => (\r\n            <p key = {i}>\r\n\r\n                <span>Expense Type: {selectData[key].Etype}</span>\r\n                <br/>\r\n                <span>Expense Price: {selectData[key].Eprice}</span>\r\n                <br/>\r\n                \r\n\r\n\r\n\r\n            </p>\r\n\r\n\r\n\r\n\r\n        ))}\r\n\r\n\r\n\r\n    </div>\r\n    )\r\n\r\n\r\n\r\n    }\r\n*/return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search for Expense\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"FED\",name:\"FED\",placeholder:\"Search\",value:FED,onChange:function onChange(event){return setFED(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:\"Submit\"}),foundData]});}","map":{"version":3,"names":["useState","useEffect","useReducer","axios","jsx","_jsx","jsxs","_jsxs","FindExpensesData","_useState","_useState2","_slicedToArray","FED","setFED","console","log","_useState3","_useState4","selectData","setSelectData","_useState5","_useState6","foundData","setFoundData","processing","axiosFetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","then","res","data","catch","err","stop","_x","apply","arguments","handleSubmit","event","preventDefault","className","children","Seedata","deleteExpense","id","name","window","confirm","concat","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","expenseid","json","alert","location","reload","flag","i","length","_selectData$i","Etype","Object","keys","filter","key","map","Eprice","onClick","_id","type","placeholder","value","onChange","target"],"sources":["F:/dev/alex/src/FindExpensesData.js"],"sourcesContent":["import \"./FED.css\"\r\nimport { useState, useEffect, useReducer } from \"react\"\r\nimport axios from \"axios\"\r\nimport \"./ViewExpenses.css\"\r\n\r\nexport default function FindExpensesData(){\r\n    const [FED, setFED] = useState(\"\")\r\n    console.log(FED)\r\n\r\n\r\n    const [selectData, setSelectData] = useState(\"\");\r\n    const [foundData, setFoundData] = useState(\"\");\r\n    \r\n    \r\n\r\n\r\n\r\n    useEffect( ()=> {\r\n        let processing = true;\r\n        axiosFetchData(processing);\r\n        return () => {\r\n            processing = false;\r\n            \r\n\r\n        }\r\n\r\n\r\n\r\n    }, [])\r\n\r\n    \r\n\r\n\r\n    const axiosFetchData = async(processing) => {\r\n        \r\n\r\n        await axios.get(\"http://localhost:4000/expenses\")\r\n        .then(res => {\r\n\r\n            if(processing){\r\n                setSelectData(res.data)\r\n              \r\n\r\n            }\r\n\r\n\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        setFoundData(<div className=\"scrollbox\">\r\n                        \r\n                        {Seedata()}\r\n                    \r\n\r\n                    </div>)\r\n\r\n    }\r\n  \r\n \r\n    \r\n    const deleteExpense = (id, name) =>{\r\n        \r\n       \r\n        \r\n        if(window.confirm(`Are you sure you want to delete ${name}?`))\r\n        {\r\n            fetch(\"http://localhost:4000/deleteExpense\", {\r\n                method: \"POST\",\r\n                crossDomain: true,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Accept: \"application/json\",\r\n                    \"Access-Control-Allow-Origin\": \"*\",\r\n\r\n                },\r\n                body: JSON.stringify({\r\n                    \r\n                    expenseid: id\r\n\r\n                }),\r\n            })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                alert(data.data);\r\n            });\r\n            alert(\"Deleted Expense\");\r\n            window.location.reload(false)\r\n            \r\n            \r\n\r\n        }else{\r\n            alert(\"Did Not Delete Expense\")\r\n\r\n\r\n        }\r\n        \r\n       \r\n        \r\n\r\n\r\n   }\r\n\r\n\r\n   \r\n    function Seedata(){\r\n        let flag = 0\r\n        for(let i = 0; i < selectData.length; i++)\r\n        {\r\n            if(selectData[i]?.Etype === FED){\r\n                flag = 1\r\n            }\r\n\r\n\r\n        }   \r\n        if(flag === 0){\r\n            return(<p>No Data Found</p>)\r\n        }     \r\n       // console.log(selectData[FED].Etype)\r\n        else{\r\n        return(<div>\r\n            {Object.keys(selectData).filter(key => selectData[key].Etype === FED).map((key, i) => (\r\n                \r\n                <p key = {key}>\r\n\r\n                <span>Expense Type: {selectData[key].Etype}</span>\r\n                <br/>\r\n                <span>Expense Price: ${selectData[key].Eprice}</span>\r\n                <br/>\r\n                <button onClick={()=> deleteExpense(selectData[key]._id, selectData[key].Etype)}>Delete</button>\r\n                \r\n                </p>\r\n\r\n\r\n            ))}\r\n\r\n\r\n\r\n        </div>)}\r\n\r\n       /*\r\n        return(<div>\r\n           {selectData.filter(expense => expense.Etype === FED).map((filteredexpenses, idx) =>  (\r\n\r\n            <p filteredexpenses={idx}>\r\n                {selectData[filteredexpenses]?.Etype} : {selectData[filteredexpenses]?.Eprice}\r\n            </p>\r\n\r\n\r\n           ))}\r\n    \r\n    \r\n        </div>\r\n        )\r\n\r\n*/\r\n    }\r\n\r\n    /*\r\n    return(<div>\r\n        {Object.keys(selectData).map((key, i) => (\r\n            <p key = {i}>\r\n\r\n                <span>Expense Type: {selectData[key].Etype}</span>\r\n                <br/>\r\n                <span>Expense Price: {selectData[key].Eprice}</span>\r\n                <br/>\r\n                \r\n\r\n\r\n\r\n            </p>\r\n\r\n\r\n\r\n\r\n        ))}\r\n\r\n\r\n\r\n    </div>\r\n    )\r\n\r\n\r\n\r\n    }\r\n*/\r\n\r\n    \r\n\r\n\r\n    return(<div>\r\n        <h1>Search for Expense</h1>\r\n        <input type=\"text\" id=\"FED\" name=\"FED\" placeholder=\"Search\" value={FED} onChange={ (event) => setFED(event.target.value)}/>\r\n        <button type=\"submit\" onClick={handleSubmit} >Submit</button>\r\n        {foundData}\r\n\r\n{/* \r\n        <div>\r\n            \r\n        {selectData.filter(expense => expense.Etype === FED).map(filteredexpenses =>  (\r\n\r\n            <li>\r\n                {filteredexpenses.Etype} : {filteredexpenses.Eprice}\r\n            </li>\r\n\r\n\r\n            ))}\r\n        </div>\r\n        */}\r\n\r\n    </div>)\r\n\r\n\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}