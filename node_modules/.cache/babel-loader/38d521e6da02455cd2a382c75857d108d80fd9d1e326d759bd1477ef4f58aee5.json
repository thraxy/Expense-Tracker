{"ast":null,"code":"var _jsxFileName = \"F:\\\\dev\\\\alex\\\\src\\\\ViewExpenseData.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport xtype from 'xtypejs';\nimport \"./ViewExpenses.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ViewExpenseData() {\n  _s();\n  const [Etype, setEtype] = useState(\"\");\n  const [Eprice, setEprice] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [selectData, setSelectData] = useState(\"\");\n  const [jsonData, setJsonData] = useState(\"\");\n  useEffect(() => {\n    let processing = true;\n    axiosFetchData(processing);\n    return () => {\n      processing = false;\n    };\n  }, []);\n  const axiosFetchData = async processing => {\n    await axios.get(\"http://localhost:4000/expenses\").then(res => {\n      if (processing) {\n        setSelectData(res.data);\n      }\n    }).catch(err => console.log(err));\n    //let Myobject = JSON.parse(selectData)\n\n    //  console.log(Dataarray)\n\n    //setJsonData(JSON.stringify(selectData));\n\n    // setJsonData(JSON.stringify(selectData));\n\n    //  console.log(Array.isArray(jsonData));\n\n    // const result = Array.from(selectData).map();\n    //console.log(result);\n\n    // console.log(selectData)\n  };\n\n  const axiosPostData = async () => {\n    const postData = {\n      Etype: Etype,\n      Eprice: Eprice\n    };\n    await axios.post(\"http://localhost:4000/expenses\", postData).then(res => setError( /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success\",\n      children: res.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 31\n    }, this)));\n  };\n  // axiosFetchData();\n\n  const deleteExpense = (id, name) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      fetch(\"http://localhost:4000/deleteExpense\", {\n        method: \"POST\",\n        crossDomain: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        body: JSON.stringify({\n          expenseid: id\n        })\n      }).then(res => res.json()).then(data => {\n        alert(data.data);\n      });\n      alert(\"Deleted Expense\");\n      window.location.reload(false);\n    } else {\n      alert(\"Did Not Delete Expense\");\n    }\n  };\n\n  //console.log(selectData[2]?.Etype);\n  /*\r\n     function Seedata(){\r\n      let strings = []\r\n      for(let i = 0; i < selectData.length; i++){\r\n          let thestring = `${selectData[i]?.Etype}: $${selectData[i]?.Eprice}\\n`\r\n          strings.push(thestring)\r\n  \r\n  \r\n      }\r\n      console.log(strings)\r\n      return(strings.map((string, index) => {\r\n          return (<p key={index}>{string}<button onClick={()=>deleteExpense(string)}>Delete</button></p>)\r\n  \r\n  \r\n      }))\r\n  \r\n     }\r\n     */\n  function Seedata() {\n    if (selectData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 12\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: Object.keys(selectData).map((key, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Expense Type: \", selectData[key].Etype]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Expense Price: $\", selectData[key].Eprice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteExpense(selectData[key]._id, selectData[key].Etype),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 12\n    }, this);\n  }\n\n  /*\r\n      function Seedata(){\r\n  \r\n      let string = \"\";\r\n  \r\n      \r\n       for(let i = 0; i < selectData.length; i++)\r\n       {\r\n  \r\n          string = string + `${selectData[i]?.Etype}: $${selectData[i]?.Eprice}\\n`\r\n          \r\n  \r\n  \r\n       }\r\n       return(string);\r\n      }\r\n      */\n\n  /*\r\n      const handleSubmit = (event) => {\r\n          event.preventDefault();\r\n  \r\n          if(!Eprice && ! Etype){\r\n  \r\n              setError(<p className=\"required\">Both fields are empty</p>)\r\n  \r\n          }\r\n  \r\n          else if(!Etype)\r\n          {\r\n              setError(<p className=\"required\">Etype is empty</p>)\r\n  \r\n  \r\n          }\r\n          else if (!Eprice){\r\n  \r\n              setError(<p className=\"required\">Eprice is empty</p>)\r\n          }\r\n          else{\r\n              setError(<p>message sent</p>)\r\n  \r\n          }\r\n          setError('')\r\n          axiosFetchData()\r\n          \r\n      }\r\n  \r\n  */\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scrollbox\",\n      children: Seedata()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(ViewExpenseData, \"HqKWWRE9tnGL2apbiO9x8kkF86w=\");\n_c = ViewExpenseData;\nvar _c;\n$RefreshReg$(_c, \"ViewExpenseData\");","map":{"version":3,"names":["useState","useEffect","axios","xtype","jsxDEV","_jsxDEV","Fragment","_Fragment","ViewExpenseData","_s","Etype","setEtype","Eprice","setEprice","error","setError","selectData","setSelectData","jsonData","setJsonData","processing","axiosFetchData","get","then","res","data","catch","err","console","log","axiosPostData","postData","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","deleteExpense","id","name","window","confirm","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","expenseid","json","alert","location","reload","Seedata","length","Object","keys","map","key","i","onClick","_id","_c","$RefreshReg$"],"sources":["F:/dev/alex/src/ViewExpenseData.js"],"sourcesContent":["import {useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport xtype from 'xtypejs';\r\nimport \"./ViewExpenses.css\";\r\n\r\n\r\nexport default function ViewExpenseData(){\r\n\r\n\r\n    const [Etype, setEtype] = useState(\"\");\r\n    const [Eprice, setEprice] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [selectData, setSelectData] = useState(\"\");\r\n    const [jsonData, setJsonData] = useState(\"\");\r\n    \r\n    \r\n\r\n\r\n\r\n    useEffect( ()=> {\r\n        let processing = true;\r\n        axiosFetchData(processing);\r\n        return () => {\r\n            processing = false;\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n    }, [])\r\n\r\n\r\n    const axiosFetchData = async(processing) => {\r\n        \r\n\r\n        await axios.get(\"http://localhost:4000/expenses\")\r\n        .then(res => {\r\n\r\n            if(processing){\r\n                setSelectData(res.data)\r\n              \r\n\r\n            }\r\n\r\n\r\n        })\r\n        .catch(err => console.log(err))\r\n        //let Myobject = JSON.parse(selectData)\r\n        \r\n        \r\n      //  console.log(Dataarray)\r\n\r\n        //setJsonData(JSON.stringify(selectData));\r\n        \r\n       // setJsonData(JSON.stringify(selectData));\r\n        \r\n      //  console.log(Array.isArray(jsonData));\r\n       \r\n        // const result = Array.from(selectData).map();\r\n        //console.log(result);\r\n       \r\n        \r\n       // console.log(selectData)\r\n        \r\n    }\r\n    \r\n\r\n    const axiosPostData = async() => {\r\n        const postData = {\r\n            Etype: Etype,\r\n            Eprice: Eprice\r\n\r\n        }\r\n        await axios.post(\"http://localhost:4000/expenses\", postData)\r\n        .then(res => setError(<p className=\"success\">{res.data}</p>))\r\n\r\n\r\n\r\n    }\r\n   // axiosFetchData();\r\n\r\n\r\n\r\n\r\n   const deleteExpense = (id, name) =>{\r\n\r\n        \r\n        if(window.confirm(`Are you sure you want to delete ${name}?`))\r\n        {\r\n            fetch(\"http://localhost:4000/deleteExpense\", {\r\n                method: \"POST\",\r\n                crossDomain: true,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Accept: \"application/json\",\r\n                    \"Access-Control-Allow-Origin\": \"*\",\r\n\r\n                },\r\n                body: JSON.stringify({\r\n                    \r\n                    expenseid: id\r\n\r\n                }),\r\n            })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                alert(data.data);\r\n            });\r\n            alert(\"Deleted Expense\");\r\n            window.location.reload(false)\r\n            \r\n            \r\n\r\n        }else{\r\n            alert(\"Did Not Delete Expense\")\r\n\r\n\r\n        }\r\n        \r\n    \r\n\r\n   }\r\n\r\n\r\n   //console.log(selectData[2]?.Etype);\r\n/*\r\n   function Seedata(){\r\n    let strings = []\r\n    for(let i = 0; i < selectData.length; i++){\r\n        let thestring = `${selectData[i]?.Etype}: $${selectData[i]?.Eprice}\\n`\r\n        strings.push(thestring)\r\n\r\n\r\n    }\r\n    console.log(strings)\r\n    return(strings.map((string, index) => {\r\n        return (<p key={index}>{string}<button onClick={()=>deleteExpense(string)}>Delete</button></p>)\r\n\r\n\r\n    }))\r\n\r\n   }\r\n   */\r\n   function Seedata(){\r\n    if(selectData.length === 0)\r\n    {\r\n    return(<div>No Data</div>)\r\n    }\r\n    return(<div>\r\n        {Object.keys(selectData).map((key, i) => (\r\n            <p key = {i}>\r\n\r\n                <span>Expense Type: {selectData[key].Etype}</span>\r\n                <br/>\r\n                <span>Expense Price: ${selectData[key].Eprice}</span>\r\n                <br/>\r\n                <button onClick={()=> deleteExpense(selectData[key]._id, selectData[key].Etype)}>Delete</button>\r\n\r\n\r\n\r\n            </p>\r\n\r\n\r\n\r\n\r\n        ))}\r\n\r\n\r\n\r\n    </div>\r\n    )\r\n\r\n\r\n\r\n   }\r\n   \r\n\r\n\r\n/*\r\n    function Seedata(){\r\n\r\n    let string = \"\";\r\n\r\n    \r\n     for(let i = 0; i < selectData.length; i++)\r\n     {\r\n\r\n        string = string + `${selectData[i]?.Etype}: $${selectData[i]?.Eprice}\\n`\r\n        \r\n\r\n\r\n     }\r\n     return(string);\r\n    }\r\n    */\r\n\r\n/*\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        if(!Eprice && ! Etype){\r\n\r\n            setError(<p className=\"required\">Both fields are empty</p>)\r\n\r\n        }\r\n\r\n        else if(!Etype)\r\n        {\r\n            setError(<p className=\"required\">Etype is empty</p>)\r\n\r\n\r\n        }\r\n        else if (!Eprice){\r\n\r\n            setError(<p className=\"required\">Eprice is empty</p>)\r\n        }\r\n        else{\r\n            setError(<p>message sent</p>)\r\n\r\n        }\r\n        setError('')\r\n        axiosFetchData()\r\n        \r\n    }\r\n\r\n*/\r\n    \r\n    \r\n\r\n\r\n    return(\r\n        <>\r\n            <h1>Test</h1>\r\n            <div className=\"scrollbox\">\r\n            \r\n            {Seedata()}\r\n            \r\n\r\n            </div>\r\n        \r\n        \r\n        \r\n        \r\n        </>\r\n\r\n\r\n\r\n\r\n    )\r\n    \r\n\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}